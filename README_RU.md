# üèóÔ∏è ArchLens - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê–Ω–∞–ª–∏–∑–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

<div align="center">

![ArchLens Logo](https://img.shields.io/badge/ArchLens-–ê–Ω–∞–ª–∏–∑%20–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã-blue?style=for-the-badge&logo=rust&logoColor=white)

[![Rust](https://img.shields.io/badge/rust-%23000000.svg?style=for-the-badge&logo=rust&logoColor=white)](https://www.rust-lang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen?style=for-the-badge&logo=github-actions)](https://github.com)
[![MCP Compatible](https://img.shields.io/badge/MCP-Compatible-purple?style=for-the-badge&logo=anthropic)](https://modelcontextprotocol.io/)

**üîç –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫–æ–¥–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ò–ò**

*–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–π—Ç–µ –∑–∞–ø–∞—Ö–∏ –∫–æ–¥–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –≤ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö*

[üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) ‚Ä¢ [üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) ‚Ä¢ [ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ò–ò](#-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-–∏–∏) ‚Ä¢ [üåç English](README.md)

</div>

---

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç **–ì–ª—É–±–æ–∫–∏–π –ê–Ω–∞–ª–∏–∑ –ö–æ–¥–∞**
- **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ó–∞–ø–∞—Ö–æ–≤ –ö–æ–¥–∞**: –î–ª–∏–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID**: –ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã**: –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–µ—Å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞**: –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –∏–Ω–¥–µ–∫—Å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏

### üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ò–Ω—Å–∞–π—Ç—ã**
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞**: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- **–ö–∞—Ä—Ç–∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –°–≤—è–∑–∏ –∏–º–ø–æ—Ä—Ç–æ–≤/—ç–∫—Å–ø–æ—Ä—Ç–æ–≤ –∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –î–æ–ª–≥**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–æ–ª–≥–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É
- **–û—Ü–µ–Ω–∫–∞ –†–∏—Å–∫–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤

### ü§ñ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ò–ò**
- **MCP –°–µ—Ä–≤–µ—Ä**: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude –∏ –¥—Ä—É–≥–∏–º–∏ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –û—Ç—á–µ—Ç—ã**: JSON/Markdown —ç–∫—Å–ø–æ—Ä—Ç—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –ò–ò
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –î–∏–∞–≥—Ä–∞–º–º—ã**: Mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–ë–æ–≥–∞—Ç—ã–π –ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –ò–ò-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### üõ†Ô∏è **–û–ø—ã—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å**: Rust, TypeScript, JavaScript, Python, Java, Go, C/C++
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows, macOS, Linux
- **CLI –∏ API**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–ë–µ–∑ –ü—Ä–∞–≤ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**: –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–æ–≤—ã—à–µ–Ω–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–∞—á–∞—Ç—å –ë–∏–Ω–∞—Ä–Ω—ã–π –§–∞–π–ª
```bash
# –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑
curl -L https://github.com/yourusername/archlens/releases/latest/download/archlens-x86_64-pc-windows-msvc.zip -o archlens.zip
unzip archlens.zip
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–±–æ—Ä–∫–∞ –∏–∑ –ò—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/archlens.git
cd archlens

# –°–æ–±—Ä–∞—Ç—å —Ä–µ–ª–∏–∑–Ω—É—é –≤–µ—Ä—Å–∏—é
cargo build --release

# –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ ./target/release/archlens
```

### üîç –ë–∞–∑–æ–≤–æ–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### üìä –ê–Ω–∞–ª–∏–∑ –ü—Ä–æ–µ–∫—Ç–∞
```bash
# –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
./archlens analyze .

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
./archlens analyze /path/to/project

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
./archlens analyze . --verbose --analyze-dependencies
```

#### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞
```bash
# –ü–æ–ª—É—á–∏—Ç—å –æ–±–∑–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
./archlens structure .

# –í–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
./archlens structure . --show-metrics
```

#### ü§ñ –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ò–ò
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–ª—è –ò–ò
./archlens export . ai_compact

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
./archlens export . ai_compact --output analysis.md
```

#### üìà –î–∏–∞–≥—Ä–∞–º–º–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã
./archlens diagram . mermaid

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞
./archlens diagram . mermaid --include-metrics
```

### üîç –ì–ª—É–±–æ–∫–∏–π –ê–Ω–∞–ª–∏–∑ (CLI)

```bash
# –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (scan -> AST -> capsules -> graph -> validators)
./archlens analyze . --deep > deep_analysis.json
```

### ü§ñ MCP –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `project_path`: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ('.', './src')
- `detail_level`: `summary` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `standard` | `full`
- `deep`: `true` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞

```json
{
  "project_path": ".",
  "detail_level": "summary",
  "deep": true
}
```

### üì¶ AI Compact –û—Ç—á–µ—Ç (–†–∞–∑–¥–µ–ª—ã)

- Summary: —Å—É–º–º–∞—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- Problems (Heuristic): coupling/cohesion/—Å–ª–æ–∂–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞
- Problems (Validated): –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ (—Ç–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- Cycles (Top): —Ç–æ–ø —Ü–∏–∫–ª–æ–≤ –ø–æ –¥–ª–∏–Ω–µ (A -> B -> ... -> A)
- Top Coupling: —É–∑–ª—ã‚Äë¬´—Ö–∞–±—ã¬ª –ø–æ —Å—Ç–µ–ø–µ–Ω–∏
- Top Complexity Components: —Ç–æ–ø‚Äë10 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

---

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ò–ò

### üîå MCP –°–µ—Ä–≤–µ—Ä (Model Context Protocol)

ArchLens –≤–∫–ª—é—á–∞–µ—Ç –º–æ—â–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –±–µ—Å—à–æ–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏:

- –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ('.', './src') ‚Äî –æ–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ.
- –û—Ç–≤–µ—Ç—ã –∫–æ–º–ø–∞–∫—Ç–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–∏–Ω–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏).

#### üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å Claude Desktop

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP** (`~/.config/claude-desktop/mcp_settings.json`):
```json
{
  "mcpServers": {
    "archlens": {
      "command": "node",
      "args": ["/path/to/archlens/mcp/archlens_mcp_server.cjs"],
      "env": {
        "ARCHLENS_DEBUG": "false"
      }
    }
  }
}
```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Desktop**

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ò–ò-–∞–Ω–∞–ª–∏–∑**:
   - `analyze_project` - –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
   - `export_ai_compact` - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ò–ò-–∞–Ω–∞–ª–∏–∑
   - `get_project_structure` - –î–µ—Ç–∞–ª—å–Ω–æ–µ –∫–∞—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - `generate_diagram` - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã

#### üéØ –ò–ò –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°–ª—É—á–∞–π –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|---------|----------|---------------------|
| üîç `analyze_project` | –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ |
| ü§ñ `export_ai_compact` | –ü–æ–ª–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (~2800 —Ç–æ–∫–µ–Ω–æ–≤) | –ì–ª—É–±–æ–∫–∏–π –ò–ò-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| üìÅ `get_project_structure` | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ |
| üìä `generate_diagram` | Mermaid –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã | –í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üîß –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ö–æ–º–∞–Ω–¥

#### `analyze` - –ê–Ω–∞–ª–∏–∑ –ü—Ä–æ–µ–∫—Ç–∞
```bash
archlens analyze <–ø—É—Ç—å> [–û–ü–¶–ò–ò]

–û–ü–¶–ò–ò:
    --verbose                 –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
    --analyze-dependencies    –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª–µ–π
    --extract-comments        –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    --include-patterns <–®–ê–ë–õ–û–ù–´>  –®–∞–±–ª–æ–Ω—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è
    --exclude-patterns <–®–ê–ë–õ–û–ù–´>  –®–∞–±–ª–æ–Ω—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    --max-depth <–ì–õ–£–ë–ò–ù–ê>     –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
```

#### `structure` - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞
```bash
archlens structure <–ø—É—Ç—å> [–û–ü–¶–ò–ò]

–û–ü–¶–ò–ò:
    --show-metrics           –í–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Ñ–∞–π–ª–æ–≤
    --max-files <–ö–û–õ–ò–ß–ï–°–¢–í–û> –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤ –≤ –≤—ã–≤–æ–¥–µ
```

#### `export` - –≠–∫—Å–ø–æ—Ä—Ç –ê–Ω–∞–ª–∏–∑–∞
```bash
archlens export <–ø—É—Ç—å> <—Ñ–æ—Ä–º–∞—Ç> [–û–ü–¶–ò–ò]

–§–û–†–ú–ê–¢–´:
    ai_compact              –ò–ò-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    json                    –°—ã—Ä—ã–µ JSON –¥–∞–Ω–Ω—ã–µ
    markdown                –ß–∏—Ç–∞–µ–º—ã–π —á–µ–ª–æ–≤–µ–∫–æ–º markdown

–û–ü–¶–ò–ò:
    --output <–§–ê–ô–õ>         –ü—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É
    --focus-critical        –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
    --include-diff          –í–∫–ª—é—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
```

#### `diagram` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –î–∏–∞–≥—Ä–∞–º–º
```bash
archlens diagram <–ø—É—Ç—å> <—Ç–∏–ø> [–û–ü–¶–ò–ò]

–¢–ò–ü–´:
    mermaid                 –°–∏–Ω—Ç–∞–∫—Å–∏—Å Mermaid –¥–∏–∞–≥—Ä–∞–º–º
    svg                     SVG –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞
    dot                     –§–æ—Ä–º–∞—Ç Graphviz DOT

–û–ü–¶–ò–ò:
    --include-metrics       –í–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
    --output <–§–ê–ô–õ>         –ü—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É
```

### üé® –ü—Ä–∏–º–µ—Ä—ã –í—ã–≤–æ–¥–∞

#### üìä –û—Ç—á–µ—Ç –ê–Ω–∞–ª–∏–∑–∞
```markdown
# üîç –ö–†–ê–¢–ö–ò–ô –ê–ù–ê–õ–ò–ó –ü–†–û–ï–ö–¢–ê

**–ü—É—Ç—å:** /–≤–∞—à/–ø—Ä–æ–µ–∫—Ç
**–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω:** 15.01.2024, 14:30:22

## üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤:** 127
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 15,432
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:** 23.5%

## üóÇÔ∏è –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- **.rs**: 45 —Ñ–∞–π–ª(–æ–≤)
- **.ts**: 32 —Ñ–∞–π–ª(–æ–≤)
- **.js**: 28 —Ñ–∞–π–ª(–æ–≤)

## üìà –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
‚ö†Ô∏è **–°–†–ï–î–ù–ò–ô –ü–†–û–ï–ö–¢** (127 —Ñ–∞–π–ª–æ–≤)
- –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ä–∞–∑–º–µ—Ä, —É–º–µ—Ä–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∏—Å–∫–∏
- –í–æ–∑–º–æ–∂–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

#### üìà Mermaid –î–∏–∞–≥—Ä–∞–º–º–∞
```mermaid
graph TD
    A[–û—Å–Ω–æ–≤–Ω–æ–π –ú–æ–¥—É–ª—å] --> B[–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è]
    A --> C[–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö]
    B --> D[–°–µ—Ä–≤–∏—Å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π]
    C --> D
    D --> E[API –°–ª–æ–π]
    
    classDef critical fill:#ff6b6b
    classDef warning fill:#ffd93d
    classDef good fill:#6bcf7f
    
    class A good
    class B,C warning
    class D,E critical
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/
‚îú‚îÄ‚îÄ üß† analysis/          # –Ø–¥—Ä–æ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ file_scanner.rs   # –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ parser_ast.rs     # –ü–∞—Ä—Å–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ AST
‚îÇ   ‚îî‚îÄ‚îÄ metadata_extractor.rs # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–æ–¥–∞
‚îú‚îÄ‚îÄ üèóÔ∏è architecture/      # –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ capsule_constructor.rs # –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ graph_builder.rs  # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ enricher.rs       # –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ üìä metrics/           # –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ code_smells.rs    # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–ø–∞—Ö–æ–≤ –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ complexity.rs     # –ú–µ—Ç—Ä–∏–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ tech_debt.rs      # –ê–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
‚îú‚îÄ‚îÄ üì§ export/            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ ai_compact.rs     # –ò–ò-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ diagrams.rs       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º
‚îÇ   ‚îî‚îÄ‚îÄ reports.rs        # –ß–∏—Ç–∞–µ–º—ã–µ —á–µ–ª–æ–≤–µ–∫–æ–º –æ—Ç—á–µ—Ç—ã
‚îî‚îÄ‚îÄ üîå mcp/              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MCP
    ‚îî‚îÄ‚îÄ archlens_mcp_server.cjs # Node.js MCP —Å–µ—Ä–≤–µ—Ä
```

### üîÑ –ö–æ–Ω–≤–µ–π–µ—Ä –ê–Ω–∞–ª–∏–∑–∞

1. **üìÅ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –§–∞–π–ª–æ–≤** - –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–æ–≤
2. **üîç –ü–∞—Ä—Å–∏–Ω–≥ AST** - –Ø–∑—ã–∫–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ä–µ–≤—å–µ–≤
3. **üèóÔ∏è –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **üìä –†–∞—Å—á–µ—Ç –ú–µ—Ç—Ä–∏–∫** - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
5. **ü§ñ –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ò–ò** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ò–ò

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üîß –°–±–æ—Ä–∫–∞

```bash
# –°–±–æ—Ä–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cargo build

# –†–µ–ª–∏–∑–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
cargo build --release

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
cargo test

# –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
RUST_LOG=debug cargo run -- analyze .
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
cargo test

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
cargo test file_scanner

# –¢–µ—Å—Ç —Å –≤—ã–≤–æ–¥–æ–º
cargo test -- --nocapture
```

### üìù –£—á–∞—Å—Ç–∏–µ –≤ –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–°–º. [CONTRIBUTING.md](CONTRIBUTING.md) –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

---

## üéØ –°–ª—É—á–∞–∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üîç **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Code Review**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ pull request'–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–ø–∞—Ö–æ–≤ –∫–æ–¥–∞

### ü§ñ **–ò–ò-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**
- –ë–æ–≥–∞—Ç—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∞–Ω–∞–ª–∏–∑ –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞

### üìä **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –î–æ–ª–≥–æ–º**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–æ–ª–≥–∞
- –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### üèóÔ∏è **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º
- –ö–∞—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

---

## üåç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ø–∑—ã–∫–æ–≤

| –Ø–∑—ã–∫ | –ü–∞—Ä—Å–∏–Ω–≥ | –ú–µ—Ç—Ä–∏–∫–∏ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|------|---------|---------|--------------|
| ü¶Ä **Rust** | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ Cargo.toml |
| üìò **TypeScript** | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ package.json |
| üìô **JavaScript** | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ package.json |
| üêç **Python** | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ requirements.txt |
| ‚òï **Java** | ‚úÖ –ë–∞–∑–æ–≤–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è |
| üêπ **Go** | ‚úÖ –ë–∞–∑–æ–≤–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚úÖ go.mod |
| ‚ö° **C/C++** | ‚úÖ –ë–∞–∑–æ–≤–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è |

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ê–Ω–∞–ª–∏–∑

### üéØ **–ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞**
- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å** - –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å** - –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–æ–º
- **–ò–Ω–¥–µ–∫—Å –°–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏** - –û–±—â–∏–π –±–∞–ª–ª —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –î–æ–ª–≥–∞** - –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞

### üîç **–ó–∞–ø–∞—Ö–∏ –ö–æ–¥–∞ (20+ –¢–∏–ø–æ–≤)**
- **–î–ª–∏–Ω–Ω—ã–µ –ú–µ—Ç–æ–¥—ã** - –§—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- **–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –û–±—ä–µ–∫—Ç—ã** - –ö–ª–∞—Å—Å—ã —Å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—è–º–∏
- **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ –ß–∏—Å–ª–∞** - –ù–µ–æ–±—ä—è—Å–Ω–µ–Ω–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–¥–∞** - –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞
- **–ú–µ—Ä—Ç–≤—ã–π –ö–æ–¥** - –ù–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–π –∏–ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥

### üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã**
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –°–ª–æ–µ–≤** - –í–∞–ª–∏–¥–∞—Ü–∏—è —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ü–∏–∫–ª—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP –°–µ—Ä–≤–µ—Ä–∞
export ARCHLENS_DEBUG=true           # –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
export ARCHLENS_BINARY=archlens      # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∏–º—è –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
export ARCHLENS_PATH=/custom/path    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—É—Ç—å –∫ –±–∏–Ω–∞—Ä–Ω–∏–∫—É
export ARCHLENS_WORKDIR=/work/dir    # –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ê–Ω–∞–ª–∏–∑–∞
export ARCHLENS_MAX_DEPTH=10         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
export ARCHLENS_MAX_FILES=1000       # –õ–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤
export ARCHLENS_LANG=ru              # –Ø–∑—ã–∫ –≤—ã–≤–æ–¥–∞
```

### üìÅ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ `.archlens.toml` –≤ –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```toml
[analysis]
max_depth = 10
include_patterns = ["**/*.rs", "**/*.ts"]
exclude_patterns = ["**/target/**", "**/node_modules/**"]

[quality]
complexity_threshold = 10
method_length_threshold = 50
class_length_threshold = 500

[export]
default_format = "ai_compact"
include_metrics = true
focus_critical = false
```

---

## üöÄ –î–æ—Ä–æ–∂–Ω–∞—è –ö–∞—Ä—Ç–∞

### üéØ **–í–µ—Ä—Å–∏—è 1.1** (Q2 2024)
- [ ] üîå –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ VS Code
- [ ] üìä –í–µ–±-–ø–∞–Ω–µ–ª—å
- [ ] ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GitHub Actions
- [ ] üìà –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤

### üéØ **–í–µ—Ä—Å–∏—è 1.2** (Q3 2024)
- [ ] üåê –ê–Ω–∞–ª–∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- [ ] üîÑ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] üì± –ú–æ–±–∏–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- [ ] üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã

### üéØ **–í–µ—Ä—Å–∏—è 2.0** (Q4 2024)
- [ ] üß† ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- [ ] üîÆ –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- [ ] üåç –û–±–ª–∞—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [ ] ü§ù –§—É–Ω–∫—Ü–∏–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

---

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–º. [CONTRIBUTING.md](CONTRIBUTING.md) –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.

### üåü –£—á–∞—Å—Ç–Ω–∏–∫–∏

<div align="center">

[![Contributors](https://img.shields.io/badge/contributors-welcome-brightgreen?style=for-the-badge&logo=github)](CONTRIBUTING.md)

*–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É —Ä–∞—Å—Ç—É—â–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É–ª—É—á—à–∞—é—â–∏—Ö –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫–æ–¥–∞!*

</div>

---

## üîó –°—Å—ã–ª–∫–∏

- üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/yourusername/archlens/wiki)
- üêõ [–¢—Ä–µ–∫–µ—Ä –ü—Ä–æ–±–ª–µ–º](https://github.com/yourusername/archlens/issues)
- üí¨ [–û–±—Å—É–∂–¥–µ–Ω–∏—è](https://github.com/yourusername/archlens/discussions)
- üìß [–ö–æ–Ω—Ç–∞–∫—Ç—ã](mailto:contact@archlens.dev)

---

<div align="center">

**üèóÔ∏è –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—É—á—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è**

[![Rust](https://img.shields.io/badge/Made%20with-Rust-orange?style=flat&logo=rust)](https://www.rust-lang.org/)
[![AI](https://img.shields.io/badge/AI-Powered-blue?style=flat&logo=openai)](https://openai.com/)
[![Open Source](https://img.shields.io/badge/Open-Source-green?style=flat&logo=opensource)](https://opensource.org/)

*–ü–æ—Å—Ç–∞–≤—å—Ç–µ ‚≠ê —ç—Ç–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –æ–Ω –≤–∞–º –ø–æ–º–æ–≥!*

</div>

## üîå MCP –°–µ—Ä–≤–µ—Ä (Rust) ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

- –°–±–æ—Ä–∫–∞: `cargo build --release --bin archlens-mcp`
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã:
  - STDIO (JSON‚ÄëRPC): `tools/list`, `tools/call`, `resources/list`, `resources/read`, `prompts/list`, `prompts/get`
  - Streamable HTTP (POST/SSE): `POST /export/ai_compact`, `POST /export/ai_summary_json`, `POST /structure/get`, `POST /diagram/generate`, `GET /sse/refresh`, `GET /schemas/list`, `POST /schemas/read`, `POST /tools/list`, `POST /tools/call`, `POST /tools/call/stream`
- detail_level: `summary` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `standard` | `full` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—å—é –∏ –±—é–¥–∂–µ—Ç–æ–º —Ç–æ–∫–µ–Ω–æ–≤
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `ARCHLENS_MCP_PORT` (–ø–æ—Ä—Ç HTTP, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5178), `ARCHLENS_TIMEOUT_MS` (—Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60000), `ARCHLENS_TEST_DELAY_MS` (–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤), `ARCHLENS_CACHE_TTL_MS` (TTL —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫–µ—à–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 120000), –ø–æ—Ä–æ–≥–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: `ARCHLENS_TH_COMPLEXITY_AVG` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8.0), `ARCHLENS_TH_COUPLING_INDEX` (0.7), `ARCHLENS_TH_COHESION_INDEX` (0.3), `ARCHLENS_TH_LAYER_IMBALANCE_PCT` (60), `ARCHLENS_TH_HIGH_SEV_CATS` (2)
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞: –∫–ª—é—á–∏ –∫–µ—à–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞—é—Ç –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞: `git rev-parse HEAD` (+ `-dirty` –ø—Ä–∏ –Ω–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö) –∏–ª–∏ –±—ã—Å—Ç—Ä—ã–π FS‚Äë–æ—Ç–ø–µ—á–∞—Ç–æ–∫ (—á–∏—Å–ª–æ —Ñ–∞–π–ª–æ–≤, –æ–±—â–∏–π –æ–±—ä—ë–º, –ø–æ—Å–ª–µ–¥–Ω–∏–π mtime), –µ—Å–ª–∏ git –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.
- LRU –∫–µ—à (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `ARCHLENS_CACHE_MAX_ENTRIES` (–ª–∏–º–∏—Ç —á–∏—Å–ª–∞ —Ñ–∞–π–ª–æ–≤ –≤ –∫–µ—àe), `ARCHLENS_CACHE_MAX_BYTES` (–ª–∏–º–∏—Ç –æ–±—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫–µ—à–∞, –±–∞–π—Ç—ã). –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è—é—Ç—Å—è —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ.

–ü—Ä–∏–º–µ—Ä—ã

STDIO (—Å—Ç—Ä–æ–∫–∏ –≤ stdin):
```json
{"jsonrpc":"2.0","id":1,"method":"tools/list"}
{"jsonrpc":"2.0","id":2,"method":"tools/call","params":{"name":"export.ai_compact","arguments":{"project_path":".","detail_level":"summary"}}}
```

HTTP (–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5178):
```bash
# AI‚Äëcompact (summary)
curl -s -X POST localhost:5178/export/ai_compact -H 'content-type: application/json' -d '{"project_path":".","detail_level":"summary"}'

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (standard)
curl -s -X POST localhost:5178/structure/get -H 'content-type: application/json' -d '{"project_path":".","detail_level":"standard"}'

# –î–∏–∞–≥—Ä–∞–º–º–∞ (full)
curl -s -X POST localhost:5178/diagram/generate -H 'content-type: application/json' -d '{"project_path":".","diagram_type":"mermaid","detail_level":"full"}'

# –°—Ö–µ–º—ã
curl -s localhost:5178/schemas/list | jq
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cursor/Claude (STDIO):

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –ò–ò‚Äë–∞–≥–µ–Ω—Ç–∞:
- –ù–∞—á–∞—Ç—å —Å `export.ai_summary_json` (top_n=5) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç—ã
- –í—ã–∑–≤–∞—Ç—å `/ai/recommend` (–∏–ª–∏ `ai.recommend` –ø–æ STDIO) —Å —ç—Ç–∏–º JSON ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `export.ai_compact` —á–µ—Ä–µ–∑ `sections` –∏ `top_n` (–∏ `max_output_chars`)
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `graph.build`, –µ—Å–ª–∏ –µ—Å—Ç—å —Ü–∏–∫–ª—ã/—Å–∏–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `etag` –∏ `use_cache` ‚Äî —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤
```json
{
  "mcpServers": {
    "archlens": {
      "command": "/absolute/path/to/target/release/archlens-mcp",
      "env": { "ARCHLENS_DEBUG": "false" }
    }
  }
}
``` 

## üß™ AI –†–µ—Ü–µ–ø—Ç—ã

- Health Check (–º–∏–Ω–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤, —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã)
  - HTTP:
    ```bash
    # 1) –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã
    curl -s -X POST localhost:5178/export/ai_summary_json -H 'content-type: application/json' \
      -d '{"project_path":".","top_n":5,"max_output_chars":20000}' | jq > summary.json

    # 2) –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã
    curl -s -X POST localhost:5178/ai/recommend -H 'content-type: application/json' \
      -d "{\"project_path\":\".\",\"json\":$(jq -c .json summary.json)}" | jq
    ```
  - STDIO:
    ```json
    {"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"export.ai_summary_json","arguments":{"project_path":".","top_n":5}}}
    {"jsonrpc":"2.0","id":2,"method":"tools/call","params":{"name":"ai.recommend","arguments":{"project_path":".","json":<–≤—Å—Ç–∞–≤—å—Ç–µ JSON –∑–¥–µ—Å—å>}}}
    ```

- –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–æ–≤
  - HTTP:
    ```bash
    curl -s -X POST localhost:5178/export/ai_summary_json -H 'content-type: application/json' -d '{"project_path":"."}' | jq > sum.json
    curl -s -X POST localhost:5178/ai/recommend -H 'content-type: application/json' \
      -d "{\"project_path\":\".\",\"json\":$(jq -c .json sum.json),\"focus\":\"cycles\"}" | jq
    # –ï—Å–ª–∏ –µ—Å—Ç—å —Ü–∏–∫–ª—ã ‚Üí –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞—Ñ
    curl -s -X POST localhost:5178/diagram/generate -H 'content-type: application/json' -d '{"project_path":".","diagram_type":"mermaid","detail_level":"summary"}'
    ```

- –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–ø—Ä–∏ High‚Äëseverity –ø—Ä–æ–±–ª–µ–º–∞—Ö)
  - HTTP:
    ```bash
    curl -s -X POST localhost:5178/export/ai_summary_json -H 'content-type: application/json' -d '{"project_path":"."}' | jq > sum.json
    curl -s -X POST localhost:5178/ai/recommend -H 'content-type: application/json' \
      -d "{\"project_path\":\".\",\"json\":$(jq -c .json sum.json),\"focus\":\"plan\"}" | jq
    # –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ prompt 'ai.refactor.plan' –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å —Å–µ–∫—Ü–∏—è–º–∏ compact/problems –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç
    ```

- –ê—É–¥–∏—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ (—Ö–∞–±—ã –∏ —Ü–∏–∫–ª—ã)
  - STDIO (—Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏):
    ```json
    {"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"export.ai_compact","arguments":{"project_path":".","detail_level":"summary","sections":["cycles","top_coupling"],"top_n":10,"max_output_chars":18000,"use_cache":true}}}
    ```

- –ì–æ—Ä—è—á–∏–µ —Ç–æ—á–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - STDIO:
    ```json
    {"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"export.ai_compact","arguments":{"project_path":".","detail_level":"summary","sections":["top_complexity_components"],"top_n":10,"max_output_chars":16000}}}
    ``` 