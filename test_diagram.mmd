graph TD
    %% Архитектурная диаграмма проекта
    classDef default fill:#f9f9f9,stroke:#333,stroke-width:2px
    classDef core fill:#ff6b6b,stroke:#d63031,stroke-width:2px
    classDef service fill:#4ecdc4,stroke:#00b894,stroke-width:2px
    classDef utility fill:#ffe66d,stroke:#fdcb6e,stroke-width:2px
    classDef config fill:#a29bfe,stroke:#6c5ce7,stroke-width:2px

    root_src_enrichment_dependency_analysis["root/src/enrichment/dependency_analysis"]
    class root_src_enrichment_dependency_analysis core
    root_src_exporter["root/src/exporter"]
    class root_src_exporter core
    archlens["archlens"]
    class archlens core
    root_src_enrichment_content_analysis["root/src/enrichment/content_analysis"]
    class root_src_enrichment_content_analysis core
    serde_json["serde_json"]
    class serde_json core
    root_src_types["root/src/types"]
    class root_src_types core
    root_src_validator_optimizer["root/src/validator_optimizer"]
    class root_src_validator_optimizer core
    root_src_cli_parser["root/src/cli/parser"]
    class root_src_cli_parser core
    root_src_capsule_graph_builder["root/src/capsule_graph_builder"]
    class root_src_capsule_graph_builder core
    chrono["chrono"]
    class chrono core
    uuid["uuid"]
    class uuid core
    tauri["tauri"]
    class tauri core
    serde["serde"]
    class serde core
    root_src_commands["root/src/commands"]
    class root_src_commands core
    root_src_enrichment_pattern_detection["root/src/enrichment/pattern_detection"]
    class root_src_enrichment_pattern_detection core
    super["super"]
    class super core
    root_src_file_scanner["root/src/file_scanner"]
    class root_src_file_scanner core
    walkdir["walkdir"]
    class walkdir core
    root_src_capsule_enricher["root/src/capsule_enricher"]
    class root_src_capsule_enricher core
    root_src_capsule_constructor["root/src/capsule_constructor"]
    class root_src_capsule_constructor core
    crate["crate"]
    class crate core
    root_src_test_commands["root/src/test_commands"]
    class root_src_test_commands core
    root_src_advanced_metrics["root/src/advanced_metrics"]
    class root_src_advanced_metrics core
    root_src_metadata_extractor["root/src/metadata_extractor"]
    class root_src_metadata_extractor core
    root_src_cli_diagram["root/src/cli/diagram"]
    class root_src_cli_diagram core
    root_src_cli_stats["root/src/cli/stats"]
    class root_src_cli_stats core
    root_src_lib["root/src/lib"]
    class root_src_lib core
    root_src_enrichment_quality_metrics["root/src/enrichment/quality_metrics"]
    class root_src_enrichment_quality_metrics core
    root_src_cli_mod["root/src/cli/mod"]
    class root_src_cli_mod core
    std["std"]
    class std core
    root_src_diff_analyzer["root/src/diff_analyzer"]
    class root_src_diff_analyzer core
    root_src_cli_export["root/src/cli/export"]
    class root_src_cli_export core
    root_src_enrichment_code_smells["root/src/enrichment/code_smells"]
    class root_src_enrichment_code_smells core
    root_src_parser_ast["root/src/parser_ast"]
    class root_src_parser_ast core
    regex["regex"]
    class regex core
    root_src_cli_handlers["root/src/cli/handlers"]
    class root_src_cli_handlers service
    root_src_enrichment_semantic_analysis["root/src/enrichment/semantic_analysis"]
    class root_src_enrichment_semantic_analysis core
    root_src_main["root/src/main"]
    class root_src_main core

    root_src_advanced_metrics -.-> crate
    root_src_advanced_metrics -.-> regex
    root_src_advanced_metrics -.-> serde
    root_src_advanced_metrics -.-> std
    root_src_capsule_constructor -.-> chrono
    root_src_capsule_constructor -.-> crate
    root_src_capsule_constructor -.-> std
    root_src_capsule_constructor -.-> uuid
    root_src_capsule_enricher -.-> crate
    root_src_capsule_enricher -.-> regex
    root_src_capsule_enricher -.-> std
    root_src_capsule_enricher -.-> uuid
    root_src_capsule_graph_builder -.-> crate
    root_src_capsule_graph_builder -.-> regex
    root_src_capsule_graph_builder -.-> std
    root_src_capsule_graph_builder -.-> uuid
    root_src_cli_diagram -.-> std
    root_src_cli_export -.-> crate
    root_src_cli_export -.-> std
    root_src_cli_export -.-> super
    root_src_cli_handlers -.-> crate
    root_src_cli_handlers -.-> std
    root_src_cli_handlers -.-> super
    root_src_cli_mod -.-> std
    root_src_cli_parser -.-> std
    root_src_cli_stats -.-> serde
    root_src_cli_stats -.-> std
    root_src_commands -.-> crate
    root_src_commands -.-> std
    root_src_commands -.-> tauri
    root_src_commands -.-> uuid
    root_src_diff_analyzer -.-> chrono
    root_src_diff_analyzer -.-> crate
    root_src_diff_analyzer -.-> std
    root_src_diff_analyzer -.-> uuid
    root_src_enrichment_code_smells -.-> crate
    root_src_enrichment_code_smells -.-> regex
    root_src_enrichment_code_smells -.-> std
    root_src_enrichment_content_analysis -.-> crate
    root_src_enrichment_content_analysis -.-> regex
    root_src_enrichment_content_analysis -.-> std
    root_src_enrichment_dependency_analysis -.-> crate
    root_src_enrichment_dependency_analysis -.-> regex
    root_src_enrichment_dependency_analysis -.-> std
    root_src_enrichment_pattern_detection -.-> crate
    root_src_enrichment_pattern_detection -.-> regex
    root_src_enrichment_pattern_detection -.-> std
    root_src_enrichment_quality_metrics -.-> crate
    root_src_enrichment_quality_metrics -.-> regex
    root_src_enrichment_quality_metrics -.-> std
    root_src_enrichment_semantic_analysis -.-> crate
    root_src_enrichment_semantic_analysis -.-> regex
    root_src_enrichment_semantic_analysis -.-> std
    root_src_exporter -.-> crate
    root_src_exporter -.-> serde_json
    root_src_exporter -.-> std
    root_src_exporter -.-> uuid
    root_src_file_scanner -.-> crate
    root_src_file_scanner -.-> std
    root_src_file_scanner -.-> walkdir
    root_src_lib ==> root_src_test_commands
    root_src_main -.-> archlens
    root_src_main -.-> std
    root_src_metadata_extractor -.-> crate
    root_src_metadata_extractor -.-> std
    root_src_parser_ast -.-> crate
    root_src_parser_ast -.-> regex
    root_src_parser_ast -.-> std
    root_src_types -.-> chrono
    root_src_types -.-> serde
    root_src_types -.-> std
    root_src_types -.-> uuid
    root_src_validator_optimizer -.-> crate
    root_src_validator_optimizer -.-> regex
    root_src_validator_optimizer -.-> std
    root_src_validator_optimizer -.-> uuid

    %% Группировка модулей
    subgraph Core["🔧 Core Modules"]
        root_src_enrichment_dependency_analysis
        root_src_exporter
        archlens
        root_src_enrichment_content_analysis
        serde_json
        root_src_types
        root_src_validator_optimizer
        root_src_cli_parser
        root_src_capsule_graph_builder
        chrono
        uuid
        tauri
        serde
        root_src_commands
        root_src_enrichment_pattern_detection
        super
        root_src_file_scanner
        walkdir
        root_src_capsule_enricher
        root_src_capsule_constructor
        crate
        root_src_test_commands
        root_src_advanced_metrics
        root_src_metadata_extractor
        root_src_cli_diagram
        root_src_cli_stats
        root_src_lib
        root_src_enrichment_quality_metrics
        root_src_cli_mod
        std
        root_src_diff_analyzer
        root_src_cli_export
        root_src_enrichment_code_smells
        root_src_parser_ast
        regex
        root_src_enrichment_semantic_analysis
        root_src_main
    end
    subgraph Services["🚀 Services"]
        root_src_cli_handlers
    end
